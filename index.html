<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outil de Traçage EDF</title>
    <link rel="stylesheet" href="style.css">
    <style id="dynamic-module-style"></style>
</head>
<body>

    <div class="container">
        <h1>1. Identification RGPD</h1>
        
        <div class="button-group">
            <button type="button" class="id-button" data-target="verif-telephone" data-short-mode="téléphone">Identifié par Téléphone</button>
            <button type="button" class="id-button" data-target="verif-bp" data-short-mode="numéro de client">Identifié par N° Client</button>
            <button type="button" class="id-button" data-target="verif-none" data-short-mode="non identifié">Aucune identification</button>
        </div>
        
        <div class="verification-area">
            <div id="verif-telephone" class="verif-block hidden">
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Confirmation Nom et Prénom</label></div>
            </div>
            <div id="verif-bp" class="verif-block hidden">
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Nom et Prénom</label></div>
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Numéro de téléphone</label></div>
            </div>
            <div id="verif-none" class="verif-block hidden">
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>N° Client (PDL/PCE)</label></div>
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Nom Prénom</label></div>
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Adresse postale</label></div>
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Numéro de téléphone</label></div>
                <div class="verif-item"><span class="verif-box" data-status="none"></span><label>Adresse mail</label></div>
            </div>
        </div>

        <hr id="section-separator" class="hidden"> 
        
        <div id="motif-appel-section" class="hidden">
            <h2>2. Motif de l'appel</h2>
            <div class="motif-group">
                <button type="button" class="motif-button" data-motif="demande">Demande</button>
                <button type="button" class="motif-button" data-motif="reclamation">Réclamation</button>
            </div>
        </div>
        
        <hr id="section-separator-2" class="hidden"> 
        
        <div id="arborescence-section" class="hidden">
            <h2>3. Arborescence et Action</h2>
            
            <div id="arborescence-container"></div>
        
            <div id="subcategories-container" class="button-group hidden" style="margin-top: 15px; padding-top: 10px; border-top: 1px dashed #ccc;"></div>
            
            <div id="action-area" class="action-block hidden"></div>
        </div>

        <div id="suivi-demande-section" class="hidden">
            <h2>4. Suivi de la demande</h2>
            <div class="suivi-container">
                <div class="suivi-row"><div class="suivi-header"><input type="checkbox" id="check-sge" data-target="content-sge"><label for="check-sge">N° SGE</label></div><div id="content-sge" class="suivi-content hidden"><input type="text" placeholder="Numéro SGE"></div></div>
                <div class="suivi-row"><div class="suivi-header"><input type="checkbox" id="check-portail" data-target="content-portail"><label for="check-portail">N° Portail</label></div><div id="content-portail" class="suivi-content hidden"><input type="text" placeholder="Numéro Portail"></div></div>
                <div class="suivi-row"><div class="suivi-header"><input type="checkbox" id="check-spidmi" data-target="content-spidmi"><label for="check-spidmi">N° SPIDMI</label></div><div id="content-spidmi" class="suivi-content hidden"><input type="text" placeholder="Numéro SPIDMI"></div></div>
                <div class="suivi-row"><div class="suivi-header"><input type="checkbox" id="check-otd" data-target="content-otd"><label for="check-otd">OTD</label></div><div id="content-otd" class="suivi-content hidden"><label class="sub-label">Superviseur:</label><input type="text" id="otd-superviseur"><label class="sub-label">Détails:</label><textarea id="otd-details"></textarea><label class="sub-label">Recontact:</label><input type="text" id="otd-date" readonly></div></div>
            </div>
        </div>

        <div id="bilan-appel-section" class="hidden">
            <h2>5. Bilan</h2>
            <p class="instruction-text">Clic Gauche: Souscrit | Double Clic: Refusé | Clic Droit: Proposé</p>
            <div class="bilan-grid">
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="Mensualisation"></span><label>Mens</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="Facture Elec"></span><label>FE</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="Assistance Dep"></span><label>AD</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="Assurénergie+"></span><label>A+</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="VARC AD"></span><label>VARC AD</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="VARC A+"></span><label>VARC A+</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="sub" data-label="IZI Confort"></span><label>IZI Confort</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="rel" data-label="IZI by EDF"></span><label>IZI by EDF</label></div>
                <div class="bilan-item"><span class="bilan-box" data-status="none" data-type="rel" data-label="Homiris"></span><label>Homiris</label></div>
            </div>
        </div>

        <button type="button" id="generate-button">Générer le traçage</button>

        <div id="trace-output-container" class="hidden">
            <label for="trace-output">Traçage généré :</label>
            <textarea id="trace-output" readonly></textarea>
        </div>

    </div>
    <script src="script.js"></script>
</body>
</html>